<!-- used in expenses/_block_index -->
<%= form_with model: @newExpense, url: expenses_sheet_expenses_path(@expensesSheet, @newExpense), method: :post, local: true do |f| %>
  <table class="table" style="width: auto">
    <thead>
      <tr>
        <th scope="col">Nombre</th>
        <th scope="col">Cantidad</th>
        <th scope="col" style="width: 12rem">Fecha</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><%= f.text_field :name %></td>
        <td><%= f.text_field :amount, data: {prefix:"$", thousands: ",", precision: 0}%></td>
        <td> <%= f.text_field :start, class: "datepicker", style: "width: 12rem" %> </td>
      </tr>
    </tbody>
  </table>
  <table class="table">
    <thead>
      <tr>
        <th scope="col">Categoría</th>
        <th scope="col">Dueño</th>
        <th scope="col"></th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>
          <%=
            select_tag(
              :category_id,
              options_from_collection_for_select(@categories.order(:name), :id, :name)
            )
          %>
        </td>
        <td><%= f.check_box :owner, {checked: true} %> desmarcar para planear a futuro</td>
        <td> <%= f.submit "Crear", class: "btn btn-primary" %></td>
      </tr>
    </tbody>
  </table>
<% end %>

<script>
  $('#expense_amount').maskMoney();
</script>

<script>
  var datepicker = $('.datepicker').datetimepicker(
          { 
            format: 'YYYY/MM/DD',
            icons:
            {
              time: 'fa fa-clock-o',
              date: 'fa fa-calendar',
              up: 'fa fa-chevron-up',
              down: 'fa fa-chevron-down',
              previous: 'fa fa-chevron-left',
              next: 'fa fa-chevron-right',
              today: 'fa fa-calendar-check-o',
              clear: 'fa fa-trash-o',
              close: 'fa fa-close'
            }
          }
        );
  position = datepicker.offset();
  datepicker.css({
    position: 'absolute',
    top: position.top,
    bottom: 'auto',
    left: 'auto',
    right: position.right,
    width: '12rem'
  });
</script>